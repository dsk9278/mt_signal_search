# 入出力プログラム検索アプリ - 使い方マニュアル

## 📋 目次
1. [概要](#概要)
2. [画面構成](#画面構成)
3. [基本操作](#基本操作)
4. [お気に入り機能](#お気に入り機能)
5. [検索機能](#検索機能)
6. [ロジック管理](#ロジック管理)
7. [データ管理](#データ管理)
8. [トラブルシューティング](#トラブルシューティング)

## 🎯 概要

マルチプルタイタンパ制御システムの入出力信号を追跡・管理するためのGUIアプリケーションです。

### 主要機能
- 信号の検索・追跡
- ロジック別の信号管理
- お気に入り機能
- PDFからのデータインポート
- 信号経路の可視化

---

## 🖥️ 画面構成

### 左サイドバー
```
阿部さんの宿題
チームのプロジェクト 無料
────────────────
ファイル [検索ボックス]
────────────────
ページ                [+]
────────────────
レイヤー
📄 Top Page
⭐ お気に入りロジック1
⭐ お気に入りロジック2
📁 ロジック1
📁 ロジック2
📁 ロジック3
🔲 Rectangle 1-3
❌ X or Q,OL input
🔘 Icon Button
...
```

### メインエリア
```
入出力プログラム検索アプリ

[X or Q,OL input         ] [🔍]

検索結果リスト (N件)
┌─────┬─────┬─────┬─────┬─────┬─────┐
│信号ID│種別  │説明  │ボックス│基板  │端子  │
├─────┼─────┼─────┼─────┼─────┼─────┤
│Q124  │OUTPUT│制御出力│BOX3  │BD003│T004 │
└─────┴─────┴─────┴─────┴─────┴─────┘

ロジック1            [⚙] [⭐]
┌─────────────────────────┐
│                         │
│  [ロジックの詳細内容]    │
│                         │
└─────────────────────────┘
```

---

## 🚀 基本操作

### 1. アプリケーションの起動
```bash
python signal_trace_app.py
```

### 2. 初回起動時
- アプリケーション起動時に自動でサンプルデータが読み込まれます
- データベースファイル `signal_database.db` が自動作成されます

### 3. 基本的な操作手順
1. **検索**: 上部検索バーに信号IDを入力
2. **結果確認**: 検索結果テーブルで信号情報を確認
3. **詳細表示**: サイドバーでロジックをクリックして詳細表示

---

## ⭐ お気に入り機能

### お気に入り登録方法
1. ロジックボックス右上の **⭐ボタン** をクリック
2. 登録完了のメッセージが表示されます
3. サイドバー上部の **お気に入りセクション** に追加されます

### お気に入りの使い方
```
レイヤー
📄 Top Page
⭐ ロジック1 (お気に入り)
⭐ ロジック2 (お気に入り)
────────────────
📁 ロジック1
📁 ロジック2
📁 ロジック3
```

### お気に入りの管理
- **追加**: ロジックボックスの⭐ボタンをクリック
- **削除**: お気に入りリストの項目を右クリック → 削除
- **並び替え**: お気に入りリスト内でドラッグ＆ドロップ

---

## 🔍 検索機能

### 検索対象
- **信号ID**: X01, Y01, Q124, M100など
- **説明文**: "近接スイッチ", "モータ起動"など  
- **プログラムアドレス**: Q124.0, X01.0など

### 検索例
```
検索語: Q124
結果: Q124に関連する全ての信号が表示

検索語: モータ
結果: 説明に"モータ"を含む信号が表示

検索語: BOX1
結果: BOX1に接続された信号が表示
```

### 高度な検索
- **AND検索**: `Q124 AND モータ`
- **OR検索**: `X01 OR X02`
- **部分一致**: `Q1*` (Q1で始まる全ての信号)

---

## 📁 ロジック管理

### ロジックの表示
1. サイドバーでロジック名をクリック
2. そのロジックに含まれる信号一覧が表示されます
3. 関連する入出力信号の関係が可視化されます

### ロジックボックスの機能
```
ロジック1            [⚙] [⭐]
┌─────────────────────────┐
│ 入力信号: X01, X02       │
│ 出力信号: Y01           │
│ 条件: X01 AND X02       │
│ 説明: モータ制御ロジック  │
└─────────────────────────┘
```

- **⚙ボタン**: ロジック設定画面を開く
- **⭐ボタン**: お気に入りに登録/解除

### 信号追跡
選択した信号の接続経路を表示：
```
追跡結果: Q124
├─ 入力経路
│  ├─ 近接スイッチ → ケーブルA → BOX1
│  ├─ BOX1 → 基板BD001 → 端子T001
│  └─ 端子T001 → 中央処理装置
└─ 出力経路
   ├─ 中央処理装置 → BOX3
   ├─ BOX3 → 基板BD003 → 端子T004
   └─ 端子T004 → 制御出力
```

---

## 💾 データ管理

### PDFインポート
1. **メニュー** → **ファイル** → **PDFインポート**
2. プログラム表のPDFファイルを選択
3. 自動でテキスト解析され、データベースに登録されます

### 対応PDFフォーマット
```
信号ID | 種別   | 説明      | ボックス | 基板   | 端子
Q124   | OUTPUT | 制御出力  | BOX3     | BD003  | T004
X01    | INPUT  | 近接SW1   | BOX1     | BD001  | T001
```

### データエクスポート
1. **メニュー** → **ファイル** → **データエクスポート**
2. JSON形式でデータをエクスポート
3. 他のシステムとの連携やバックアップに使用

### 手動データ入力
1. **データベース管理** タブを開く
2. 必要項目を入力
3. **信号追加** ボタンをクリック

---

## ⚙️ 設定とカスタマイズ

### 表示設定
- **色テーマ**: ライト/ダークモード切り替え
- **フォントサイズ**: 表示フォントサイズの調整
- **列表示**: 検索結果テーブルの表示列をカスタマイズ

### お気に入り設定
```json
{
  "favorites": [
    {
      "id": "logic1",
      "name": "ロジック1", 
      "color": "#007acc",
      "order": 1
    }
  ]
}
```

### ショートカットキー
- **Ctrl + F**: 検索フォーカス
- **Ctrl + S**: データ保存
- **Ctrl + O**: PDFインポート
- **F5**: 表示更新
- **Esc**: 選択解除

---

## 🔧 トラブルシューティング

### よくある問題

#### Q1: 検索結果が表示されない
**A1**: 以下を確認してください
- データベースにデータが登録されているか
- 検索語のスペルミスがないか
- フィルタ設定が適切か

#### Q2: PDFインポートがうまくいかない
**A2**: PDF形式を確認してください
- テキスト形式のPDF（画像PDFは要OCR処理）
- 表形式のデータが含まれているか
- ファイルが破損していないか

#### Q3: お気に入りが保存されない
**A3**: 権限とファイルを確認してください
- アプリケーションの書き込み権限があるか
- 設定ファイルが破損していないか
- ディスク容量は十分か

#### Q4: 動作が重い
**A4**: 以下を試してください
- データベースファイルのサイズを確認
- 不要な検索履歴をクリア
- アプリケーションを再起動

### エラーメッセージ対応

| エラーメッセージ | 原因 | 対処法 |
|---|---|---|
| "データベース接続エラー" | DBファイルが見つからない | アプリを再起動 |
| "PDF読み込みエラー" | ファイルが破損 | 別のPDFファイルを試す |
| "メモリ不足エラー" | 大きなファイル処理 | ファイルサイズを小さくする |

### 初期化方法
問題が解決しない場合の初期化手順：
1. アプリケーションを終了
2. `signal_database.db` ファイルを削除
3. 設定ファイルを削除
4. アプリケーションを再起動

---

## 📞 サポート情報

### バージョン情報
- **アプリ名**: 入出力プログラム検索アプリ
- **バージョン**: 1.0.0
- **対応OS**: Windows 10/11, macOS, Linux
- **必要ライブラリ**: PyQt5, PyMuPDF

### お問い合わせ
技術的な問題や機能要望については、開発チームまでご連絡ください。

### 更新履歴
- **v1.0.0**: 初回リリース
  - 基本検索機能
  - ロジック表示機能
  - PDFインポート機能
  - お気に入り機能

---

## 📚 参考資料

### 関連ドキュメント
- システム設計書
- データベース仕様書
- API リファレンス

### 外部リンク
- [PyQt5 公式ドキュメント](https://doc.qt.io/qtforpython/)
- [SQLite 公式サイト](https://www.sqlite.org/)

---

*この文書は随時更新されます。最新版は開発チームまでお問い合わせください。*